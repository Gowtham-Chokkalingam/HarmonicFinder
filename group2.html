<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Group 2 Finder</title>
    <link rel="stylesheet" href="Styles/group2.css" />
    <script src="Scripts/group2.js" defer></script>
  </head>
  <body>
    <!-- Include Navbar -->
    <div id="navbar"></div>
    <script>
      fetch("navbar.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("navbar").innerHTML = data;

          // After navbar is loaded, highlight the active link
          highlightActiveNavLink();
        });

      // Function to highlight the active link in the navbar
      function highlightActiveNavLink() {
        const navLinks = {
        "AC-Finder": "/",
        "Group1-Finder": "/group1.html",
        "Group2-Finder": "/group2.html",
      };
        // Get the current path
        const currentPath = window.location.pathname;
        console.log("Current Path:", currentPath);

        // Loop through the navLinks and add/remove the active class
        for (const [linkId, linkPath] of Object.entries(navLinks)) {
          const linkElement = document.getElementById(linkId);
          console.log("Checking link:", linkId, "Path:", linkPath, "Element:", linkElement);

          if (linkElement) {
            if (currentPath.endsWith(linkPath)) {
              linkElement.classList.add("active");
              console.log("Added active class to:", linkId);
            } else {
              linkElement.classList.remove("active");
              console.log("Removed active class from:", linkId);
            }
          } else {
            console.warn("No element found with id:", linkId);
          }
        }
      }
    </script>

    <div class="container">
      <h1>Group 2 XD Finder</h1>

      <!-- Input and button -->
    
      <div class="input-group">
        <input type="number" id="compareInputXB" step="0.001" placeholder="Enter XB value > 0.3" required />
        <input type="number" id="compareInputAC" step="0.001" placeholder="Enter AC value > 1" required  onkeydown="handleKeyPress(event)"/>
      </div>
      <button onclick="findNearestValue()">Find XD</button>

      <!-- Popup error message -->
      <div id="popupMessage" class="popup">Please enter valid values. XB should be within range, and AC must be greater than 1.</div>

      <!-- Results -->
     
      <p id="nearestValueOutput">Nearest Retracement Value:</p>
      <div id="resultsTable"></div>
      <div id="instructions"></div>
    </div>
  </body>
</html>
